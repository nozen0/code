package tuan07_QlTpham;

import java.util.ArrayList;
import java.util.List;

// Lớp quản lý danh sách hàng hóa
class QuanLyHangHoa {
    private List<HangHoa> danhSachHangHoa; // Danh sách chứa các hàng hóa

    public QuanLyHangHoa() {
        danhSachHangHoa = new ArrayList<>(); // Khởi tạo danh sách hàng hóa
    }

    // Thêm một hàng hóa vào danh sách (đảm bảo không trùng mã hàng)
    public void themHangHoa(HangHoa hangHoa) {
        for (HangHoa hh : danhSachHangHoa) {
            if (hh.maHang.equals(hangHoa.maHang)) {
                return; // Không thêm nếu mã hàng đã tồn tại
            }
        }
        danhSachHangHoa.add(hangHoa);
    }

    // Xóa hàng hóa theo mã hàng
    public void xoaHangHoa(String maHang) {
        danhSachHangHoa.removeIf(hh -> hh.maHang.equals(maHang));
    }

    // Sửa đơn giá của hàng hóa theo mã hàng
    public void suaDonGia(String maHang, double donGiaMoi) {
        for (HangHoa hh : danhSachHangHoa) {
            if (hh.maHang.equals(maHang)) {
                hh.donGia = donGiaMoi;
                return;
            }
        }
    }

    // Hiển thị toàn bộ danh sách hàng hóa dưới dạng danh sách chuỗi
    public List<String> hienThiDanhSach() {
        List<String> result = new ArrayList<>();
        if (danhSachHangHoa.isEmpty()) {
            result.add("Danh sách hàng hóa trống.");
        } else {
            for (HangHoa hh : danhSachHangHoa) {
                result.add(hh.toString()); // Gọi phương thức toString() để hiển thị chi tiết thông tin
            }
        }
        return result; // Trả về danh sách các chuỗi thông tin
    }

    // Hiển thị các hàng thực phẩm khó bán dưới dạng danh sách chuỗi
    public List<String> hienThiHangThucPhamKhoBan() {
        List<String> result = new ArrayList<>();
        boolean found = false; // Biến kiểm tra có hàng thực phẩm khó bán không
        for (HangHoa hh : danhSachHangHoa) {
            if (hh instanceof HangThucPham && hh.danhGiaBanBuon().equals("Khó bán")) {
                result.add(hh.toString()); // Gọi phương thức toString() để hiển thị chi tiết thông tin
                found = true;
            }
        }
        if (!found) {
            result.add("Không có hàng thực phẩm khó bán.");
        }
        return result; // Trả về danh sách các chuỗi thông tin
    }
}
